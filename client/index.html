<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>Service Level Reporting</title>
    <meta name="description" content="Service Level reports tool to manage Objectives, Indicators and Reports">

    <link rel="manifest" href="/manifest.json">

    <script src="/bower_components/webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="/src/slr-app.html">

    <style>

      body {
        margin: 0;
        font-family: 'Roboto', 'Noto', sans-serif;
        font-size: 13px;
        line-height: 1.5;
        min-height: 100vh;
        background-color: #f5f5f5;
      }
    </style>

    <!-- Instana EUM -->
    <script>

      // Get configuration options
      let config = null;
      let xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", 'config.json', false);
      xmlHttp.send(null);
      config = JSON.parse(xmlHttp.responseText);

      if (config && config.opentracing && config.opentracing.enable) {
        switch (config.opentracing.agent) {
          case 'instana':
            (function(i,s,o,g,r,a,m){i['InstanaEumObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//eum.instana.io/eum.min.js','ineum');
            ineum('apiKey', config.opentracing.apiKey);
            console.log('Instana Open Tracing EUM enabled')
          default:
          }
      }
    </script>

  </head>
  <body>
    <slr-app></slr-app>
  </body>
</html>
